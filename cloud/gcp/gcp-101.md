# Networking

-   IP Address
    -   Internet Protocol Address
    -   Unique identifying number for a device connected to the internet
-   IPv4 Address
    -   The original IP address
    -   Usually what we are referring to when we say IP address
-   IPv6
    -   A newer set of IP address
    -   Primarily designed to address that we are running out of IP address
    -   Particularly true for the internet of things
-   IP addresses are actually in binary
-   They are 4 bytes usually separated by a dot
-   Usually written in decimal for readability purposes
    -   11011011.10110111.10111001.11100001
    -   230.19.40.4
    -   All IP address are between the values of 0-255 for every quad
-   Classless Inter-Domain Routing (**CIDR**)
    -   way of specifiying a range of IP addresses
    -   12.1.65.0/24 Specifying the IP ranges between 12.1.65.0 - 12.1.65.255
    -   The /# indicates that the first 24 bits are fixed
-   **Static IP Address**
    -   An IP address that does not change once assigned
-   **Ephemeral IP Address**
    -   An IP address that _might_ be reassigned/changed when your VM or technically any other cloud resource is shutdown or restarted

# Ports

-   To connect to a computer you need an IP and a **Port**
-   Really just an access point on the computer
-   Standard ports
    -   HTTP 80
    -   HTTPS 443
    -   SSH 22
    -   SMTP 25

# SSH

-   Secure Shell
-   Main Protocol for connecting to Linux machines/computers/servers
-   It operates on a key based system

# Linux

-   It is an operating system
-   Very popular for webservers for numerous reasons
    -   Free with no licensing restrictions
    -   Very efficient and minimalist. Run more applications less overhead(CPU and RAM) taken by the OS
    -   A lot of great software tools already developed for Linux
-   Tons of linux distros
    -   Debian is the one we used
    -   The original linux designed by Linus Torvalds
-   Most Linux distros DO NOT have a GUI
    -   Everything is done in terminal
-   Linux originally comes from Unix
-   Unix was designed for mainframe computers
    -   Many users using one machine
    -   User permissions are in built to most linux distros
    -   A lot of the time I have to do sudo to act as a _root_ user who has full access

```bash
#common linux commands
ls #list contents in current working directory
pwd # pring working directory
cd #change directory
cat # print contents of file
sudo #super user do
mv #move file or directory
rm #re
cp #copy paste
touch #make a file
vim #open text editor
ps #show currently running processes
kill #killing a process
bg #background
grep #global regular expression, used commonly with a pipe to grab output
chmod #change mode, change permissions
clear # clears the terminal of all output
```

-   Linux is like JSON or JS
    -   You better get used to it and learn it
    -   It's an essential part of every web developer's skill set

# GCP

-   Google Cloud Platform
-   A cloud service provided by Google
    -   If you do not know about google google them
-   3rd largest cloud
    ![Google Cloud Network](https://cloud.google.com/images/locations/edgepoint.png)
-   One of GCP's point of pride is its global network
-   All of their computing centers around the globe are connected via optic cables
    -   All traffic within GCP never actually leaves google network and use public internet cables
    -   Traffic can flow very fast and optimized within GCP
-   **Premium Routing**
    -   Pay more for it
    -   Your end users will get connected to GCP hosted websites applications at the nearest possible data center
    -   All traffic within GCP is internal
-   **Standard Routing** - Pay less - You users will get connected to the data center nearest the application
    ![Premium vs Standard](https://i.imgur.com/n3HIykg.png)

# GCP Infrastructure

-   **Regions**
    -   Geographic areas like us-east1 (South Carolina)
-   **Zones**
    -   Zones are location within region
    -   Most Region have several zones (us-east1-a, us-east1-b)
    -   This provides redundancy in case their is a failure
    -   One has the power knocked out from a storm
-   **Data Centers**
    -   The physical buildings that house the IT infrastructure
    -   Server racks and cables
    -   GCP purposefully seperates employees who work on the hardware vs the software for GCP

# GCE

-   Google Compute Engine
-   One of the most essential GCP services
-   Allows you to create virtual machines (VMs) in the cloud
    -   These VMs are often called instances
-   There's a lot of customizability with VMs
    -   The operating sytem
    -   Where it's physically located
    -   The boot disk
    -   The processors and RAM for the machine
    -   Service Accounts (have not covered this yeat)
        -   The permissions the VM allows
    -   What network you want the VM on
    -   The name
    -   Meta Data
        -   Information about the VM
    -   Startup Script
        -   A script to run whenver the VM is first created or restarts
-   **Instance Template**
    -   Saved configuration of a VM creation form
    -   Primarily to quickly create a specific VM of your choice
-   **Persistent Disks**
    -   All VMs are created with a persistant disk
    -   Essentially the hard drive for a VM
        -   SSD
        -   HDD
    -   They get the term persistant disk because they ARE NOT attached to the VM
    -   They live seperately from the VM
    -   Can survive the VM being shutdown
    -   They can be copied
        -   **Snapshots**
    -   They can be remounted onto other VMs
-   **Instance Group**
    -   A group of instances that you have logically lumped together
    -   Two Main Varieties
        -   **Unmanaged Instance Groups**
            -   Any VM that are manually added to a group
            -   They are unmanaged in that the developer has to do any maintenence manually
                -   Adding new computers, doing updates, removing new VMs, running updates
            -   These VMs _DO NOT_ have to be identical
        -   **Managed Instance Group**
            -   All VMs must be created from the same template
            -   You can configure GCP to _manage_ them
                -   Uniformally update
                -   Uniformally add and remove VMs
        -   **Stateless** application _doesn't_ keep track of sessions
        -   **Stateful** applications _do_ keep track of sessions

# Elasticity

-   One of the biggest benefits of cloud computing is how quickly you can create or delete resources to match your current level of demand.
-   You only provision what you need at that moment
-   **Auto-scaling**
    -   The ability of your online applications and services to procision or decomission resources to meet demand
    -   **Vertical Scaling**
        -   You get a more powerful VM to meet more demand
            -   1 2cpu 2gb vm => 1 8cpu 32gb vm
    -   **Horizontal Scaling**
        -   You get more VMs of equivalent specs and split traffic between them
            -   2 2 cpu 2gb vm => 8 2cpu 2gb vm
        -   Requires a load balancer
        -   Usually preferred for web applications
-   **Elasticity**
    -   The speed at which this provisioning and decomissioning occurs

# Load Balancer

-   A load balancer serves as an entry point for requests going to your VMs
-   Reasons to use a load balancer
    -   Split the traffic to prevent a single VM from getting overloaded
    -   Protect your from DDoS(Distributed Denial of Service) attacks (someone tries to send a ton of request to overload your servers)
    -   Can check the credentials of the requests
    -   They perform health checks on vms to make sure they are up and running and only directs traffic to healthy vms
    -   Automatically provision or decomission VMs to handle the current traffic load
    -   Load Balanceers often have a static IP which means thee is a nice fixed address for your application

# Cloud VPC

-   All vms and resources must be deployed to a **Virtual Private Cloud**
-   A VPC is a encapsulated networking environment for your resources
-   A VPC is a **GLOBAL** construct
-   You can set up **Firewall Rules** for your VPC
-   There is a default VPC created with every GCP project with default Firewall rules
    -   You can create your own
-   Parts of Firewall Rules
    -   **Name**
        -   Human readable description
    -   **Type**
        -   Ingress (traffic going _into_ the network)
        -   Egress (traffic going _out_ of network)
    -   **Target**
        -   All computers on the network
        -   Specific target tag
        -   Service account
    -   **Filter**
        -   IP range
        -   Service Account
        -   Specific tags
    -   **Port**
    -   **Action**
        -   Allow (The rule is _granting_ the permissions to do something)
        -   Deny (The rule is _prohibiting_ the permissions to do something)
    -   **Priority**
        -   Number between 0 - 65,534
        -   Lower numbers take precedence over higher numbers
        -   if a rule with a priority of 1000 allows traffic from anywhere on port 8000 it will override a rule with priority 5000 blocking traffic from everywhere
-   **Subnet**
    -   Range of IP address within a network
        -   Usually done for security or to optimized traffic flow
        -   Computers on the same subnet can directly communicate with each other
    -   In GCP subnets are for a specific _region_
        -   east-asia-1 subnet
        -   europe-2 subnet

# Cloud Storage

-   **Object Based** storage
    -   Files
    -   blob (binary large object)
    -   jpgs, pngs, pdfs, txts, htmls
-   Very convienent for storing any files an application needs to save
-   I recommend storing any files in Cloud Storage and then saving a link to that file in your database
-   Objects go into **buckets**
    -   buckets must be globally unique
    -   Uniquely named across ALL GCP accounts created by everyone
-   Bucket permissions come in two varieties
    -   Uniform
        -   All objects int he bucket have the same permission level
    -   Fine Grained
        -   Set permission levels per object
-   **Static website hosting** with cloud storage
    -   Putting the HTML, CSS and JS into a bucket and making the fiels public
-   **LOOK AT NEXTJS**
-   **Storage Classes**
    -   Standard
        -   Storing objects that are frequently accessed and updated
        -   files that people commonly download
        -   or files for a public website
    -   Nearline
        -   30 days is the minimum time objects in nearline in here must be stored or you get charged extra money
        -   Monthly business reports that you might access infrequently
    -   Coldline
        -   90 days is the minimum time objects in coldlne must be stored or you get charged extra money
        -   Quarterly business reports. Local news company might have some unused video that goes unused but do not want to get rid of
    -   Archive
        -   365 days is the minimum time objects in archive can be in archive or you get charged
        -   For files that you do not anticipate needing at all or very very infrequently
        -   Legally required to keep medical examination documents for 10 years
-   The cost per gigabyte of storage goes DOWN
-   The cost of accessing each object goes UP

# Cloud Monitoring

    - GCP can monitor your vms and other cloud resources
    - Monitoring vs Logging
        - Monitoring (Metrics)
            - CPU usage
            - Memory
            - Incoming Traffic
        - Logging (text-based messages)
            - History of events
                - Created a VM at 7:18 PM EST
                - Deleted VM at 9:23 PM EST
                - Sudden Crash VM at 11:39 PM EST

-   There is a monitoring console that you can acess on the GCP website
-   In order to view some metrics on your VM you will have to install agents on your VM
    -   Is quite literally just a button that gives you a command to run

# StackDriver

-Was an independent company that made monitoring and logging software

-   Google bought StackDriver and incorporated it into GCP
    -   StackDriver logging
    -   StackDriver monitoring
    -   StackDriver Error Reporting
-   GCP rebranded all the StackDriver stuff to cloud
    -   Cloud Logging
    -   Cloud Monitoring
    -   Cloud Error Reporting

# Cloud Shell

-   Online Terminal
-   Connects to a personal VM
-   Any files that you write here are persisted and saved across projects
-   100% a developer tool to help you perform certain GCP operations
    -   Text based

# Cloud SDK

-   Local **Software Development Kit**
-   Basically cloud shell but your local computer
-   Text based
-   Very helpful for writing commands and using them on your local machine
-   Based in python

## IAM

-   Identity and Access Management
-   It is how GCP Tracks permissions to use certain resources
-   IAM is for developers and resources on the cloud
    -   IT IS NOT FOR END USERS

# Terminology

-   **User**
    -   An actual human person who is accessing GCP
-   **Roles**
    -   A description of a certain software position
    -   This determines what permissions someone in this role can have
-   **Permission**
    -   The ability to do something on GCP
-   **Service Account**
    -   A _machine_ in the cloud or on premise that can be given a role
-   Users or Service Accounts have roles which grant them permissions

# Steps for making a computer use a service account

1. Create Srevice account
2. Create and Download the JSON Key
3. Set an environment variable GOOGLE_APPLICATION_CREDENTIALS that points to that JSON key file

## Datastore

-   No SQL Database

| SQL                                   | NoSQL                                   |
| ------------------------------------- | --------------------------------------- |
| Relational                            | Not Relational                          |
| Information store in tables           | Information can be wide variety of ways |
| Postgres,SQL Server,MySQL             | MongoDB,CockroachDB,_Datastore_         |
| ACID Transactions                     | Many NoSQL do not                       |
| Rigid Schemas and Constraints on data | Most NoSQL do not                       |

-   Completely manged service by GCP
    -   You do not have to comission servers
    -   Datastore will scale with the amount of data and requests that it recieves
        -   Very cost effective and elastic
-   **Firestore**
    -   A newer version of datastore
    -   A lot of features for updating subscribed clients and automatic publishing
        -   Really nice for web and mobile applications
-   **Key Terminology**
    -   **Kind**
        -   All entites in Datastore ahve to have a kind
        -   There is no rigid definition of property requirements unlike a table in SQL
    -   **Indetifier**
        -   Essentially the same thing as a primary key
        -   Unique identifier of an entity
        -   Can be autogenerated
    -   **Index**
        -   Unlike a SQL database where you can make ANY query you want
        -   In datastore you can only query properties that have been indexed
            -   By default when you insert and entity the properties are indexable
        -   An entity that has a lot of indexes will slow down datastore making insertions

## App Engine

-   A computing service provided by Google
-   The original service provided by GCP
-   It is a managed service
    -   GCP will be responsible for
        -   deploying the code
        -   autoscaling
        -   loadbalancing
-   Two main modes for App Engine
    -   Standard
        -   Directly reads your source code
    -   Flex
        -   Container based
-   **app.yaml**
    -   The essential configuration file for App Engine

```yaml
runtime: nodejs14 #runtime environment for the app
service: pizza-ordering-service # particular service being deployed
service_acocunt: datastore-read-write@joespizza.com # service account to use
automatic_scaling:
    max_instances: 2
    min_instances: 1
instance_class: F1 # the type of vm to deploy to, this is default
```

-   **Key Terminology**
    -   **Services**
        -   A independently running program
            -   Revapoint transaction service
    -   **Version**
        -   Every time you deploy a service to App Engine it creates a new version
        -   You can loadbalance between version
            -   Very helpful for testing out new versions prior to swapping over

```bash
    gcloud app deploy
```

## Cloud Functions

-   Serverless Computing
-   GCP does almsot everything in terms of deploying our application
-   A cloud function is a single function that can be invoked
    -   You can have multiple cloud functions
-   They are very popular for
    -   glue code
        -   stitching inputs and outputs between programs
    -   Cleaning up IT infrastructure
        -   Automatically checks uploads to buckets and delete files that are the wrong type
-   Not good for
    -   Anything that requires a lot of resources/processing power
        -   by default they time out in 60s
        -   Very limited memory
    -   Anything that would require saving of accessing files locally
        -   functions do not have any persistence
    -   _NEVER_ RECURSIVELY CALL A CLOUD FUNCTION
-   Cloud functions only support a handful of languages
    -   Go
    -   Java
    -   C#
    -   Node
    -   Ruby
    -   Python
    -   PHP
-   **Key Terminology**
    -   **Event/Trigger**

# Key Management Service

-   You will have files that contain sensitive information and you want to make sure only certain people can read the contents
-   **Encryption** is the process of taking data and putting into a secure format so that only authorized people can decrypt to read it
-   AES
    -   Advanced Encryption Standard
    -   The most common encryption process in the world\*
        -   \*kind of a guess
-   Two main types of encryption
    -   **Symmetric Encryption**
        -   A single key is used to _encrypt and decrypt_ information
    -   **Assymetric Encryption**
        -   One key to encrypt
        -   Second key to decrypt

```bash
gcloud kms encrypt --location=global --keyring=jester-keyring --key=revpoint-key --plaintext-file=dbconnection.txt --ciphertext-file=encrypted-info.txt
```

# Encoding

-   A lot of times data is an format that might not be the easiest to work with
-   it might be binary/buffer byte information
-   text that is not english based
    -   Chinese Characters
    -   Cyrillic alphabet
    -   German and French accents & symbols
-   **Encoding** is taking information and putting it in an easy to use format without losing _any_ information
-   **Base 64** encoding will turn anything into 64 base characters taht virtually every program understands
-   **_Encoding is not encrypting_**
    -   Encoding has zero security
    -   Encrypting is 100% security
-   why not always encode files?
    -   Encoding increases the overall _size_

# PubSub

-   A messaging architecture
-   A way for programs to communicate with one another
-   An asynchronous messaging
    -   Do not expect a response
    -   Expect that messages might not get processed immediately
-   Key Terms
    -   **Topic**
        -   Message Queue
        -   Publishers will send messages to a topic
    -   **Publisher**
        -   Some program/app that will send messages to a topic
    -   **Subscription**
        -   Vested interest in a Topic
        -   For your mental model, think of this as another queue that recieves messages from a topic
    -   **Subscriber**
        -   Program/app that will read messages from a subscription
        -   Subscribers must _acknowledge_ a message before it is removed from the subscription
    -   **Polling**
        -   the process by which subscriptions get messages
        -   **Push**
            -   The Topic will automatically send messages to the subscriptions/subscribers
        -   **Pull**
            -   The Subscriber is responsible for listening to the topic and receiving the messages
    -   **Dead Letter Queue**
        -   Messages that are unprocessable/never acknowledged are often shunted to a DLQ
        -   This queue is usually for developers to debug what was wrong with these messages
    -   **Ingestion**
        -   the process by which publishers publish messages to a topic
        -   _Data Ingestion_
-   Pros
    -   Incredibly scalable and reliable
        -   Messages can keep piling in the Topic
        -   No messages are lost
        -   Can all just be processed at a later time
        -   Inherent buffering effect
    -   Great way to extend applications using a common interface
        -   very easy to create a new micro-service and a subscription for that micro-service
        -   None of the other services or components of the architecture have to change
-   Cons
    -   Asynchronous
        -   Not great for applications that require immediate feedback

![FanOutAdam](https://i.imgur.com/kYSnZGu.png)
![FanOutPhones](https://www.redhat.com/architect/sites/architect/files/styles/embed_large/public/2021-04/Fanout.png?itok=uyMP8Srx)
![resiliance](https://i.imgur.com/Y2zdGsI.png)

## Logging

-   Cloud Logging is the rebranded StackDriver Logging
-   Just about everything in GCP gets logged in cloud logging
    -   Creating resources
    -   Editing resources
    -   Errors
    -   Any custom logs for your applications
-   Logs by default get deleted after a certain time period if not specifically saved
-   **Log Routers**
    -   **Data Sinks**
        -   In cloud logging, Sinks will direct the logs to a destination
            -   A storage bucket
            -   BigQuery
        -   Severity Levels
            -   Info
            -   Critical
            -   Error
            -   Warn
            -   Fatal

## BigQuery

-   Data Warehouse
-   An engpoint for a lot of your data
-   It is for data analysis and querying
-   Not for applications that need a database to store information
-   **OLTP**
    -   Online transaction processing
        -   Cloud SQL
        -   Datastore
-   **OLAP**
    -   Online Analysis Processing
        -   BigQuery
-   BigQuery chagres for two things
    -   Amount of data stored within it
    -   The total amount of data that you read in your queries
-   **Dry Run**
    -   GCP will estimate the total amount of data a query will generate

## Infrastructure As Code (IaC)

-   DevOps combines the development of an application with the Operations of an applications
-   Many cloud services are geared towards making your code and deployment meld together
    -   app.yaml is a small scale example of IaC
        -   the file states how many instances you want
        -   The runtime environment of the instances
        -   Type of the instances

## Terraform

-   IaC tool
-   Allows us to declaratively define cloud infrastructure and easily deploy and delete it
-   All of this wil be in Terraform code
-   IaC has a lot of advantages
    -   quickly deploy, repdeploy and delete cloud resources
    -   You will not accidentally make mistakes in your

```groovy
provider "google" {
    project = "rev-point-tracker-jester"
    region = "us-east1"
    zone = "us-east1-b"
}

resource "google_compute_instance" "rev-point-instance" {
    name = "rev-point-server"
    machine_type = "e2-micro"

    boot_disk {
      initialize_params{
          image = "debian-cloud/debian-9"
      }
    }
    network_interface {
        network = "default"
        access_config {

        }
    }
}
```

# Microservices

-   An application is split into several independently running programs
-   These programs communicate through HTTP _usually_

![MicroservicesVsMonolith](https://res.cloudinary.com/practicaldev/image/fetch/s--seen3BGm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://user-images.githubusercontent.com/2697570/49395813-cd094980-f737-11e8-9e9a-6c20db5720c4.jpg)

-   Pros
    -   A single service going down does not make the application as a whole unusable
    -   Independent programs promote scalability and extensibility
        -   Very easy to add a new microservice to your software ecosystem _extensibility_.
        -   Possible to scale specific services to meet demand with peak _efficiency_
    -   **Polyglot** applications are possible in microservices
        -   Application written using many languages
-   Cons
    -   Much harder to set up
    -   More configuration and moving parts
    -   Because services communicate via HTTP they communicate way slower than if they were in the same program.
    -   Milliseconds vs Nanoseconds
-   The **Discovery Problem**
    -   How do your services know the location of other services
    -   Coding an application to find a service by the IP address is usually a bad idea
        -   IP address in the cloud are ephermeral, constantly changing
            -   Solutions: - 1/10 excel spreadsheet with service names and IPs hosting those services
        -   Registry Pattern
            -   Any time a microservices instance is created. It adds itself to a registry server
            -   Any requests for a particular service
        -   Tons of 3rd Party software that addresses this issue
            -   Zookeeper
            -   Spring cloud
            -   Consul - Eureka
            -   Zuul (Gateway Service)
        -   App Engine
            -   Each service has a unchanging DNS name
            -   GCE allows you to set Meta-data that allows you to share information between instances
        -   Kubernetes has its' own service name resolution

![Service Discovery](https://cdn.wp.nginx.com/wp-content/uploads/2016/04/Richardson-microservices-part4-3_server-side-pattern.png)

## GCP ACE Review

[PubSub](https://github.com/adamranieri/GCP-ACE/blob/main/DataServices/PubSub.md)
[ComputeEngine](https://github.com/adamranieri/GCP-ACE/blob/main/Computing/ComputeEngine.md)
[BigQuery](https://github.com/adamranieri/GCP-ACE/blob/main/Databases/BigQuery.md)

# Cloud Build

-   GCP's service for building images
-   Rather than building images locally you can have cloud build construct your images from source code
-   Many services used cloud build behind the scenes

## Cloud Run

-   Serverless container hosting
-   Cloud functions but for containers rather than a specific fucntion
-   Can scale from 0 to 100 containers (Might even be more than 100)
    -   This handles increases or decreases in traffic
-   You have to specify an image to use for a service in cloud run

# Kubernetes

-   _Container Orchestration_
    -   Software that manages your containers
        -   Restarting failing containers
        -   Auto-scaling
        -   Exposing your containers
-   Kubernetes Infrastructure terminology
    -   **Cluster**
        -   A collection of nodes
        -   Controlled by a single 'brain' called the **control plane**
    -   **Node**
        -   A VM that is being controlled by the **control plane**
        -   A node must be running a client software called **kubelet** which connects to the **control plane**
    -   **Control plane**
        -   The brain of a kubernetes cluster
        -   Manages the VMs Manages the pods and resource allocation on the VMs
    -   **Node Pools**
        -   A cluster can be comprised on multiple node pools
        -   A smaller sub collection of nodes
            -   Usually node pools are VMs of a same type
        -   You might have pods that run on a specific node pooll if those pods require something specific from those VMs
            -   A node pool might be comprised of high memory VMs which is useful if you have pods that need that hardware

![Kubernetes Infrastructure](https://i.imgur.com/aIzQgCc.png)

-   Kubernetes Objects
-   An object is an abstract representation of a resource
    -   **Pod**
        -   Smallest atomic processing unit in kubernetes
        -   Consist of 1 - many containers
        -   Isolated environments
            -   Not directly accessible
        -   Your core applications run in pods
    -   **Service**
        -   Pods are not directly accessible
        -   A service will **EXPOSE** a pod or pods
        -   Types of services
            -   **LoadBalancer**
                -   Create an external load balancer
                    -   External IP address
                -   this will make your pods accessible to the outside interwebs
            -   ClusterIP
                -   Internal Load Balancer
                -   Outside internet traffic cannot reach it
            -   Node port
    -   **Secrets**
        -   Allows you to store sensitive information
        -   You can reference the secrets in your other resources/objects
    -   **Workload**
        -   A combination of pod and configuration
        -   Always have 4 of pod A
    -   **Deployment**
        -   For stateless applications
            -   Pods that do not use local persistence
    -   **Stateful Set**
        -   For stateful pods
            -   Pods that do have local persistence
    -   **Replica Set**
        -   Deprecated for the most part
        -   K8s documentation says to ue deployment instead for almost all use cases
    -   **Service Account**
        -   Kubernetes service account
        -   Can be referenced by pods to gain credentials to cloud services
        -   KSAs are not SPECIFICALLY for GCP

# Big Data

-   Data on very large scales
    -   terrabyte to petabytes, zetabytes
-   Data
    -   Raw facts
    -   Numbers, dates, times
    -   At 5:45 PM EST James Smith bought 3 shares of TSLA at $401.56 a share
-   Information
    -   Meaningful insight gained from data
    -   data
        -   9/20 Ranieri inc was $100 dollars a share
        -   9/21 Ranieri inc was $110 dollars a share
        -   9/22 Ranieri inc was $120 dollars a share
    -   Information
        -   Ranieri Inc is increasing in value

## Data Structure

-   Structured data
    -   Data stored in easy to analyze formats
    -   It is easy to gain information from structured data is easy
    -   Examples
        -   Database Table
        -   Excel sheet
        -   CSV
-   Unstructured Data
    -   Data that is NOT easy to analyze to process
    -   Difficult to turn into information (particularly for computers)
    -   Examples
        -   An image
        -   Audio file
        -   Scanned document
-   Semi-structured data
    -   Data that has some structure but may have tough parts to analyze
    -   Examples
        -   Email
        -   JSON

## Data Quality

-   Consistent
    -   Data that doesn't conflict with itself
-   Relevant
    -   Data that is up to date
-   Complete
    -   No missing records or fields
-   Accurate
    -   represents reality
-   Granular
    -   how specific it is

Data Quality !== Data Structure

-   High Quality Low Structure
    -   Scan all old newspaper
    -   Video camera footage, security feed
-   Low Quality High Structure
    -   Informal online surveys

## Big Data Lifecycle

1. Ingestion
    - getting the data from somewhere
2. Store
    - house the data somewhere
3. Process/analyze
    - filter and refine the data
4. Explore and visualize
    - Make the data into human friendly information
    - Humans will need to make decisions at some point

# GCP services for Big Data

## BigTable

-   NoSQL
    -   Schemaless
-   Wide Column Database
    -   optimized for records that have A LOT of columns
-   For information in the scale of petabytes\
    -   IoT (Internet of Things)
    -   Millions of datapoints every few seconds
-   **OLAP**
    -   Mostly for analysis

## Dataproc

-   Not a database
-   Only **proc**esses data and does not keep it anywhere
-   _MapReduce Processing_
    -   Process information in parallel
    -   Really important if you have a ton of data
    -   _Apache Spark_ and _Hadoop_
        -   Software that using MapReduce processing

## Cloud Datastudio

-   visualizing information

# Kubernetes

### Noobernetes expanded: 2 Electric Boogaloo

### The Problem

-   Very large enterprises have many micro-services
    -   These are always being updated
    -   Always being edited
    -   Want close to 100% reliability and failsafes
    -   Very expandable/extension
        -   Easy to add new services
    -   Microservices could have a whole bunch of different languages and quirky runtimes

### Kubernetes as a solution

-   All applications in kubernetes are based on containers
    -   This means apps in the kubernetes are easy to deploy
-   Ensure reliability
    -   Autoscaling
    -   Loadbalancing
    -   Health checks to make sure your programs are always up and running
-   Extensibility
    -   Most kubernetes is written in IaC
        -   Those yaml files
    -   Create/re-create configurations

### Kubernetes INfrastructure

-   Machines somewhere HAVE to do the processing
    -   in GCP we use GKE
        -   **Google Kubernetes Engine**
    -   GCP jkust spins up VMs in GCE and connects them to a control plane to make a cluster
-   **Cluster**
    -   A group of VMs connected to the same **control plane**
        -   clusters can have VMs added or subtracted from the at anytime
-   **Node**
    -   A VM that is attached to a control plane
-   **Kubelet**
    -   This is a specific program on a node that connects it to the control plane
    -   Takes up some resources like RAM and CPU to run
    -   Give the control plane a way to use that computer
-   **Control Plane**
    -   the brain of kubernetes
    -   controls all the nodes in the cluster
        -   Add workloads to VMs
    -   **Master Node**
        -   the VM that runs the control plane program is called the master node
        -   in GKE the master node is abstracted away and you do not have access to that vm directly
-   **Node Pools**
    -   Groups of VMs within a cluster
    -   These VMs might have certain program of hardware specs that you might want to run a specific workload on
    -   There is a default node pool
        -   so you always have at least one

![Kubernetes](https://i.imgur.com/RbCLuPA.png)

### Kubernetes Objects

-   you create objects for the cluster to run and maintain
-   These objects created a **Desired State** of the cluster
-   The control plane's _primary responsibility_ is create and maintain this desired state
    -   It will do whatever it takes
-   Objects in kubernetes
    -   Pod
    -   Service
        -   **Load Balancer**
            -   will commission a load balancer in GCP with an external IP
        -   **Cluster IP**
            -   creaatign an internal abstract load balancer (doesn't actually comission hardware)
            -   purely for internal traffic
        -   **NodePort**
            -   A service that connects a specific port on a node to a pod
    -   Service Account
    -   Deployment
    -   Secret
    -   PVC
    -   Workload objects
        -   Objects that create pods for your cluster
        -   Deployment
            -   pods that are stateless
            -   No PVC
        -   StatefulSet
            -   pods that are stateful
            -   use a PVC
        -   Job
            -   Create the pods, and once they are finish running delete them
            -   A program that runs every once in awhile to read the databases and create a business report. Then dies.
        -   CronJobs
            -   a job that runs at a specific time
-   How these objects are defined and linked to each other is the definition of the desired state
-   **Controllers**
    -   The primary way the kubernetes control plane maintains and creates the desired state
    -   There is a controller responsible for every type of object
-   Yaml file key terms
    -   **Kind**
        -   the type of object you are creating
    -   **Metadata**
        -   High level information about the object
        -   used by controllers to identify
        -   **name**
            -   the custom name of the object you are creating for kubernetes
        -   **annotation**

![DesiredState](https://i.imgur.com/MnyTyKF.png)

### Anatomy of a pod

-   Kubernetes _DOES NOT_ directly run container
-   Container run in **pods**

### Authorization login service

-   login authorization service
    -   returns a JWT
    -   pushes through the authorization header

### DEPOLYMENT STEPS IN READMES

### Things to ask adam

-   Portfolio
    -   Projects
    -   Work experience
-   Kubernetes master folder or within service roots
-   Question about pub/sub and bigquery

### Ingress

-   Having an external load balancer for every service is not ideal for a couple reasons
    -   Every service would have a different IP address to reach the service
    -   Some services you don't want to be accessible outside the cluster
    -   Load Balancers are not cheap
-   An ingress will allow you to create a SINGLE External Load Balancer and then create rules that will direct traffic from that load balancer to specific services
    -   Ingresses allow us to route base on the URI
        -   a single ip address and the services you have nice URI /myservice prefixes for
        -   a backup route if a request doesn't match anything
    -   Check for headers
    -   Route based on metrics
-   Kubernetes does not come with an ingress object
    -   It is as if kubernetes comes with an abstract class of an ingress but not the implementation
-   nginx was the ingress we downloaded and put into our cluster

![Ingress](https://i.imgur.com/rQrwNSl.png)

### Helm

-   Helm is a package management tool for kubernetes
    -   GKE Helm comes already installed
-   This is how we downloaded nginx ingress
-   **npm is to node as helm is to kubernetes**
-   Helm doesn't use the terms packages, it uses the term _chart_
-   Downloading a chart is like downloading a dependency in npm

### Monitoring and Logging in GKE

-   Monitoring and Logging in GKE is pretty easy
    -   When you create the cluster make suer logging and monitoring is enabled
-   Any print statement from a container is automatically logged and sent to cloud logging

### Accessing the GCP Service in GKE

-   VMs/Nodes can be given service accounts themselves
    -   Not preferred if possible
    -   Leads to overgranting of permissions
-   Attach a read-only volume containing the json key for a service account to the pod
    -   tricky to set up
    -   GCP recommends against using JSON keys whenever possible
        -   Keys can be lost or forgotten about
        -   Security hazard
-   **Workload Identity**
    -   Create a Kubernetes service account and link it to a GCP service account
    -   Gives a specific pod access to that service account
    -   Not strictly for K8s
        -   Can be used for machines/software not on GCP
        -   VMs on AWS that you wanted GCP to recognize as having specific service accounts

```bash
#overall structure
gcloud iam service-accounts add-iam-policy-binding --role roles/iam.workloadIdentityUser --member "serviceAccount:workloadidentitynamespace[default/ksa]" emailaddressofservicacount

#example
gcloud iam service-accounts add-iam-policy-binding --role roles/iam.workloadIdentityUser  --member "serviceAccount:funky-town-326721.svc.id.goog[default/create-issues]" create-issues@funky-town-326721.iam.gserviceaccount.com
```

### Micro-services and Discovery on Kubernetes

-   How does kubernetes solve the discovery problem?
    -   Kubnernetes has it;s own service name resolution
    -   Your services can reference each other via the service name as opposed to an IP address within the cluster

## GCP ACE Review Prep

-   This is content that _CAN_ and _WILL_ be asked in 1-on-1s and QC
-   [IAM](https://github.com/adamranieri/GCP-ACE/blob/main/CloudPlatform/IAM.md)
-   [App Engine](https://github.com/adamranieri/GCP-ACE/blob/main/Computing/AppEngine.md)
-   [Cloud Functions](https://github.com/adamranieri/GCP-ACE/blob/main/Computing/CloudFunctions.md)
-   [Datastore](https://github.com/adamranieri/GCP-ACE/blob/main/Databases/Datastore.md)
